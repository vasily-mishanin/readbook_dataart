{"version":3,"sources":["components/LoaderFade.module.css","App.js","components/BookListHeader.jsx","components/SearchBox.jsx","helpers/stringUtilites.js","components/BookCard.jsx","components/LoaderFade.jsx","components/BookListContent.jsx","components/BooklistInfo.jsx","components/BookListFooter.jsx","components/BookList.jsx","components/Details.jsx","components/ToReadBookCard.jsx","components/FinishedBookCard.jsx","components/ReadingList.jsx","services/ApiClient.js","services/OpenLibraryService.js","services/LocalStorageService.js","components/ReadBookApp.jsx","reportWebVitals.js","index.js"],"names":["module","exports","App","props","className","children","BookListHeader","SearchBox","onSearch","onChange","onEnter","useState","inputValue","setInputValue","handleInput","useCallback","e","target","value","type","name","autoComplete","placeholder","onKeyDown","onInput","onClick","disabled","shortenString","str","limitLength","length","slice","BookCard","langArr","book","onBookCardClick","title","subtitle","language","isSelected","join","LoaderFade","styles","loader","BooklistContent","content","isLoading","onScroll","map","item","_id","BookListInfo","listInfo","onNextClick","onPrevClick","Fragment","booksFound","start","pageSize","BooklistFooter","BookList","booksList","BookListFooter","Details","bookDetails","toReadList","onAddBookClick","has_fulltext","first_publish_year","publish_year","processYearArr","yearArr","Array","isArray","isBookExist","Object","keys","isListed","some","style","color","ToReadBookCard","finishedBooksList","onMarkAsRead","onRemove","author_name","isMarked","FinishedBookCard","ToReadList","totalBooks","readBooks","ApiClient","endpointURL","this","resource","a","url","fetch","response","ok","json","resultJSON","console","log","status","error","OpenLibraryService","searchQuery","pageNumber","fullSearchQuery","get","booksData","LocalStorageService","readList","localStorage","setItem","JSON","stringify","finishedList","jsonReadList","getItem","parse","jsonFinishedList","oldList","setReadList","newReadList","filter","oldFinishedList","setFinishedList","ReadBookApp","state","prevLists","currentPage","selectedBook","WAIT_TIMEOUT_ms","debouncedSearch","debounce","handleSearch","lastQuery","newList","setState","getBooks","docs","numFound","forEach","key","split","pop","size","newListInfo","page","list","handleInputChange","newQuery","handleEnter","handleNextClick","isAnyMoreBooks","nextPageNum","handlePrevClick","prevPage","handleScroll","scrollHeight","scrollTop","clientHeight","handleBookCardClick","previouslySelectedBook","find","prevSelectedBookIndex","indexOf","selectedBookIndex","handleAddBookClick","addBookToReadList","handleMarkAsRead","addBookToFinishedList","handleRemove","newToReadList","deleteBook","prevProps","prevState","prevList","callback","wait","timeout_ID","args","window","clearTimeout","setTimeout","apply","ReadingList","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4d7ec0ba.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"LoaderFade_loader__3fous\",\"hidden\":\"LoaderFade_hidden__2XSoD\",\"loading\":\"LoaderFade_loading__3E3mH\"};","import \"./styles/App.scss\";\n\nfunction App(props) {\n  return <div className=\"App\">{props.children}</div>;\n}\n\nexport default App;\n","import React from \"react\";\r\n\r\nconst BookListHeader = (props) => {\r\n  //const { onSearch, onChange, onEnter, children } = props;\r\n  return <div className=\"booklist__header\">{props.children}</div>;\r\n};\r\n\r\nexport default BookListHeader;\r\n","import React, { useCallback, useState } from \"react\";\r\n\r\nconst SearchBox = (props) => {\r\n  const { onSearch, onChange, onEnter } = props;\r\n  const [inputValue, setInputValue] = useState(null);\r\n\r\n  const handleInput = useCallback((e) => {\r\n    setInputValue(e.target.value);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"searchbox\">\r\n      <input\r\n        className=\"searchbox__input\"\r\n        type=\"text\"\r\n        name=\"searchInput\"\r\n        autoComplete=\"on\"\r\n        placeholder=\"Author or title ...\"\r\n        onChange={(e) => onChange(e.target.value)}\r\n        onKeyDown={(e) => onEnter(e)}\r\n        onInput={handleInput}\r\n      />\r\n      <button className=\"searchbox__button\" onClick={() => onSearch()} disabled={!inputValue}>\r\n        Go!\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBox;\r\n","export const shortenString = (str, limitLength) => (str && str.length > limitLength ? `${str.slice(0, limitLength)}...` : str);\r\n","import React from \"react\";\r\nimport { shortenString } from \"./../helpers/stringUtilites\";\r\n\r\nconst BookCard = (props) => {\r\n  const { book, onBookCardClick } = props;\r\n  let { title, subtitle, language, isSelected } = book;\r\n\r\n  const processLangArr = (langArr) => (langArr ? `(${langArr.join(\", \")})` : ``);\r\n\r\n  const MAX_TITLE_LENGTH = 30;\r\n  const MAX_SUBTITLE_LENGTH = 30;\r\n  const MAX_LANG_LENGTH = 22;\r\n  title = shortenString(title, MAX_TITLE_LENGTH);\r\n  subtitle = shortenString(subtitle, MAX_SUBTITLE_LENGTH);\r\n  language = shortenString(processLangArr(language), MAX_LANG_LENGTH);\r\n\r\n  return (\r\n    <article className={`booklist__card ${isSelected ? \"checked\" : \"\"}`} onClick={() => onBookCardClick(book)}>\r\n      {\" \"}\r\n      <h3>\r\n        {\" \"}\r\n        {title} <span>{language}</span>{\" \"}\r\n      </h3>{\" \"}\r\n      <h4 className=\"muted\">{subtitle}</h4>{\" \"}\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default BookCard;\r\n","import React from \"react\";\r\nimport styles from \"./LoaderFade.module.css\";\r\n\r\nconst LoaderFade = () => {\r\n  return (\r\n    <h1 className={styles.loader}>\r\n      <span>L</span>\r\n      <span>O</span>\r\n      <span>A</span>\r\n      <span>D</span>\r\n      <span>I</span>\r\n      <span>N</span>\r\n      <span>G</span>\r\n    </h1>\r\n  );\r\n};\r\n\r\nexport default LoaderFade;\r\n","import React from \"react\";\r\nimport BookCard from \"./BookCard\";\r\nimport LoaderFade from \"./LoaderFade\";\r\n\r\nconst BooklistContent = (props) => {\r\n  const { content, isLoading, onScroll, onBookCardClick } = props;\r\n\r\n  return (\r\n    <div className=\"booklist__content\" onScroll={(e) => onScroll(e)}>\r\n      {isLoading && <LoaderFade />}\r\n      {content.map((item) => (\r\n        <BookCard key={item._id} book={item} onBookCardClick={onBookCardClick} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BooklistContent;\r\n","import React from \"react\";\r\n\r\nconst BookListInfo = (props) => {\r\n  const { listInfo, onNextClick, onPrevClick } = props;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"booklist__footer-info\">\r\n        <p>\r\n          Found: <span>{listInfo.booksFound}</span>{\" \"}\r\n        </p>\r\n        <p>\r\n          Start: <span>{listInfo.start}</span>{\" \"}\r\n        </p>\r\n        <p>\r\n          Page size: <span>{listInfo.pageSize}</span>{\" \"}\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"booklist__footer-controls\">\r\n        {\" \"}\r\n        <button name=\"previous\" onClick={() => onPrevClick()}>\r\n          Prev. results\r\n        </button>\r\n        <button name=\"next\" onClick={() => onNextClick()}>\r\n          Next. results\r\n        </button>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n  // add conditional rendering\r\n};\r\n\r\nexport default BookListInfo;\r\n","import React from \"react\";\r\nimport BookListInfo from \"./BooklistInfo\";\r\n\r\nconst BooklistFooter = (props) => {\r\n  const { listInfo, onNextClick, onPrevClick } = props;\r\n  return (\r\n    <footer className=\"booklist__footer\">\r\n      {listInfo.booksFound && <BookListInfo listInfo={listInfo} onNextClick={onNextClick} onPrevClick={onPrevClick} />}\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default BooklistFooter;\r\n","import React from \"react\";\r\nimport BookListHeader from \"./BookListHeader\";\r\nimport SearchBox from \"./SearchBox\";\r\nimport BooklistContent from \"./BookListContent\";\r\nimport BookListFooter from \"./BookListFooter\";\r\n\r\nconst BookList = (props) => {\r\n  const {\r\n    booksList,\r\n    isLoading,\r\n    listInfo,\r\n    onChange,\r\n    onEnter,\r\n    onSearch,\r\n    onScroll,\r\n    onNextClick,\r\n    onPrevClick,\r\n    onBookCardClick,\r\n  } = props;\r\n  return (\r\n    <React.Fragment>\r\n      <section className=\"booklist\">\r\n        <BookListHeader>\r\n          <SearchBox onChange={onChange} onEnter={onEnter} onSearch={onSearch} />\r\n        </BookListHeader>\r\n        <BooklistContent content={booksList} isLoading={isLoading} onScroll={onScroll} onBookCardClick={onBookCardClick} />\r\n        <BookListFooter listInfo={listInfo} onNextClick={onNextClick} onPrevClick={onPrevClick} />\r\n      </section>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default BookList;\r\n","import React from \"react\";\r\n\r\nconst Details = ({ bookDetails, toReadList, onAddBookClick }) => {\r\n  let { title, subtitle, language, has_fulltext, first_publish_year, publish_year } = bookDetails;\r\n  //local helpers\r\n  const processLangArr = (langArr) => (langArr ? `(${langArr.join(\", \")})` : ``);\r\n  const processYearArr = (yearArr) => {\r\n    return yearArr && Array.isArray(yearArr) ? `${yearArr.join(\", \")}` : yearArr === 0 ? `unknown` : yearArr;\r\n  };\r\n\r\n  publish_year = processYearArr(publish_year);\r\n  first_publish_year = processYearArr(first_publish_year);\r\n  language = processLangArr(language);\r\n  //in case we have {} book (no selected book)\r\n  const isBookExist = Object.keys(bookDetails).length > 0;\r\n  const isListed = toReadList.some((item) => item._id === bookDetails._id);\r\n  return (\r\n    <article className=\"details\">\r\n      <h2 className=\"details__heading\">Book details</h2>\r\n      {isBookExist && (\r\n        <div>\r\n          <h1 className=\"details__title\">{title}</h1>\r\n          <h2 className=\"details__title muted\">{subtitle}</h2>\r\n          <p>\r\n            Languages avalable: <span>{language || `no information`}</span>{\" \"}\r\n          </p>\r\n          <p>\r\n            Full text available:{\" \"}\r\n            {has_fulltext ? <span style={{ color: \"#ffd933\" }}>yes</span> : <span style={{ color: \"#c72c41\" }}> not </span>}{\" \"}\r\n          </p>\r\n          <p>\r\n            First publish year: <span>{first_publish_year || `no information`}</span>{\" \"}\r\n          </p>\r\n          <p>\r\n            Years published: <span>{publish_year || `no information`}</span>{\" \"}\r\n          </p>\r\n          <button onClick={() => onAddBookClick(bookDetails)}>Add book to Read List</button>\r\n          {isListed && <span className=\"details__message\">Added</span>}\r\n        </div>\r\n      )}\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default Details;\r\n","import React from \"react\";\r\nimport { shortenString } from \"./../helpers/stringUtilites\";\r\n\r\nconst ToReadBookCard = ({ book, finishedBooksList, onMarkAsRead, onRemove }) => {\r\n  let { title, subtitle, language, author_name } = book;\r\n  const processLangArr = (langArr) => (langArr ? `(${langArr.join(\", \")})` : ``);\r\n\r\n  const MAX_TITLE_LENGTH = 30;\r\n  const MAX_SUBTITLE_LENGTH = 30;\r\n  const MAX_LANG_LENGTH = 22;\r\n  title = shortenString(title, MAX_TITLE_LENGTH);\r\n  subtitle = shortenString(subtitle, MAX_SUBTITLE_LENGTH);\r\n  language = shortenString(processLangArr(language), MAX_LANG_LENGTH);\r\n  const isMarked = finishedBooksList.some((item) => item._id === book._id);\r\n\r\n  return (\r\n    <article className=\"readinglist__to-read-book-card\">\r\n      <h3>\r\n        {title} <span>{language}</span>\r\n      </h3>\r\n      <h4 className=\"muted\">{subtitle}</h4>\r\n      <h2>{author_name}</h2>\r\n      <button name=\"btn_markAsRead\" onClick={() => onMarkAsRead(book)}>\r\n        Mark as read\r\n      </button>\r\n      <button name=\"btn_remove\" onClick={() => onRemove(book)}>\r\n        Remove from list\r\n      </button>\r\n      {isMarked && <p className=\"readinglist__to-read-book-card--message\">(Marked)</p>}\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default ToReadBookCard;\r\n","import React from \"react\";\r\nimport { shortenString } from \"./../helpers/stringUtilites\";\r\n\r\nconst FinishedBookCard = ({ book }) => {\r\n  let { title, subtitle, language, author_name } = book;\r\n\r\n  const processLangArr = (langArr) => (langArr ? `(${langArr.join(\", \")})` : ``);\r\n\r\n  const MAX_TITLE_LENGTH = 30;\r\n  const MAX_SUBTITLE_LENGTH = 30;\r\n  const MAX_LANG_LENGTH = 22;\r\n  title = shortenString(title, MAX_TITLE_LENGTH);\r\n  subtitle = shortenString(subtitle, MAX_SUBTITLE_LENGTH);\r\n  language = shortenString(processLangArr(language), MAX_LANG_LENGTH);\r\n\r\n  return (\r\n    <article className=\"readinglist__finished-book-card\">\r\n      <h3>\r\n        {title} <span>{language}</span>\r\n      </h3>\r\n      <h4 className=\"muted\">{subtitle}</h4>\r\n      <h2>{author_name}</h2>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default FinishedBookCard;\r\n","import React from \"react\";\r\nimport BookListHeader from \"./BookListHeader\";\r\nimport ToReadBookCard from \"./ToReadBookCard\";\r\nimport FinishedBookCard from \"./FinishedBookCard\";\r\n\r\nconst ToReadList = ({ toReadList, finishedBooksList, onMarkAsRead, onRemove }) => {\r\n  const totalBooks = toReadList.length + finishedBooksList.length;\r\n  const readBooks = finishedBooksList.length;\r\n  return (\r\n    <section className=\"readinglist\">\r\n      <BookListHeader>\r\n        {\" \"}\r\n        <h1 className=\"readinglist__title\">To Read List...</h1>\r\n        <p className=\"readinglist__info\">\r\n          <span>{totalBooks}</span> books, {readBooks} read\r\n        </p>\r\n      </BookListHeader>\r\n      <div className=\"readinglist__content\">\r\n        {toReadList.map((book) => (\r\n          <ToReadBookCard\r\n            key={book._id}\r\n            book={book}\r\n            finishedBooksList={finishedBooksList}\r\n            onMarkAsRead={onMarkAsRead}\r\n            onRemove={onRemove}\r\n          />\r\n        ))}\r\n\r\n        {finishedBooksList.map((book) => (\r\n          <FinishedBookCard key={book._id} book={book} />\r\n        ))}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default ToReadList;\r\n\r\n//author_name\r\n","export class ApiClient {\r\n  //FETCH\r\n  #apiURL;\r\n\r\n  constructor(endpointURL) {\r\n    this.#apiURL = endpointURL;\r\n  }\r\n\r\n  async get(resource) {\r\n    const url = `${this.#apiURL}${resource}`;\r\n\r\n    try {\r\n      const response = await fetch(url);\r\n      if (response.ok) {\r\n        const resultJSON = await response.json();\r\n        return resultJSON;\r\n      }\r\n      console.log(`Request to ${url} finished with ${response.status}`);\r\n    } catch (error) {\r\n      console.error(`Request to ${url} failed with error:`, error);\r\n    } finally {\r\n      console.log(`Request to ${url} is done`);\r\n    }\r\n  }\r\n}\r\n\r\n// async search(query, pageNumber = 1) {\r\n//   const url = `https://openlibrary.org/search.json?q=${query}&page=${pageNumber}`;\r\n//   const result = await fetch(url);\r\n//   return await result.json();\r\n// }\r\n","import { ApiClient } from \"./ApiClient\";\r\n\r\nconst OPEN_LIBRARY_endpoint = `https://openlibrary.org/search.json?q=`;\r\n\r\nexport class OpenLibraryService {\r\n  static #ApiClient = new ApiClient(OPEN_LIBRARY_endpoint);\r\n\r\n  static async getBooks(searchQuery, pageNumber) {\r\n    const fullSearchQuery = `${searchQuery}&page=${pageNumber}`;\r\n    const booksData = await OpenLibraryService.#ApiClient.get(fullSearchQuery);\r\n    //console.log({ fullSearchQuery, booksData });\r\n    return booksData;\r\n  }\r\n}\r\n\r\n// async search(query, pageNumber = 1) {\r\n//   const url = `https://openlibrary.org/search.json?q=${query}&page=${pageNumber}`;\r\n//   const result = await fetch(url);\r\n//   return await result.json();\r\n// }\r\n","export class LocalStorageService {\r\n  // we could use  this method in componentDidUpdate()\r\n  static setReadList(readList) {\r\n    localStorage.setItem(\"readList\", JSON.stringify(readList));\r\n  }\r\n  // we could use  this method in componentDidUpdate()\r\n  static setFinishedList(finishedList) {\r\n    localStorage.setItem(\"finishedList\", JSON.stringify(finishedList));\r\n  }\r\n\r\n  static get readList() {\r\n    const jsonReadList = localStorage.getItem(\"readList\");\r\n    return jsonReadList ? JSON.parse(jsonReadList) : [];\r\n  }\r\n\r\n  static get finishedList() {\r\n    const jsonFinishedList = localStorage.getItem(\"finishedList\");\r\n    return jsonFinishedList ? JSON.parse(jsonFinishedList) : [];\r\n  }\r\n\r\n  static addBookToReadList(book) {\r\n    // yeah some double check\r\n    const oldList = LocalStorageService.readList;\r\n    const isListed = oldList.some((item) => item._id === book._id);\r\n    if (isListed) {\r\n      return;\r\n    }\r\n    LocalStorageService.setReadList([...oldList, book]);\r\n  }\r\n\r\n  static deleteBook(book) {\r\n    // yeah some double check\r\n    const oldList = LocalStorageService.readList;\r\n    const newReadList = oldList.filter((item) => item._id !== book._id);\r\n    LocalStorageService.setReadList(newReadList);\r\n  }\r\n\r\n  static addBookToFinishedList(book) {\r\n    const oldFinishedList = LocalStorageService.finishedList;\r\n    const isListed = oldFinishedList.some((item) => item._id === book._id);\r\n    if (isListed) {\r\n      return;\r\n    }\r\n\r\n    LocalStorageService.setFinishedList([...oldFinishedList, book]);\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport BookList from \"./BookList\";\r\nimport Details from \"./Details\";\r\nimport ReadingList from \"./ReadingList\";\r\nimport { OpenLibraryService } from \"./../services/OpenLibraryService\";\r\nimport { LocalStorageService } from \"../services/LocalStorageService\";\r\n\r\nconst BOOKS_on_PAGE = 100;\r\n\r\nclass ReadBookApp extends Component {\r\n  //STATE\r\n  state = {\r\n    searchQuery: \"\",\r\n    booksList: [],\r\n    isLoading: false,\r\n    prevLists: [],\r\n    currentPage: 1,\r\n    listInfo: {\r\n      booksFound: null,\r\n      start: null,\r\n      pageSize: 100,\r\n    },\r\n    selectedBook: {},\r\n  };\r\n\r\n  //lifecycle\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.lastQuery = this.state.searchQuery;\r\n    this.state.toReadList = LocalStorageService.readList;\r\n    this.state.finishedBooksList = LocalStorageService.finishedList;\r\n  }\r\n\r\n  componentDidMount() {}\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { searchQuery, currentPage, prevLists } = this.state;\r\n    // if page has been changed\r\n    if (currentPage !== prevState.currentPage) {\r\n      const prevList = prevLists.find((item) => item.page === currentPage);\r\n      if (prevList) {\r\n        const newList = prevList.list;\r\n        const { booksFound, start, pageSize } = prevList.listInfo;\r\n        this.setState({ booksList: newList, listInfo: { booksFound, start, pageSize } });\r\n      } else if (currentPage > prevState.currentPage) {\r\n        this.handleSearch();\r\n      }\r\n    }\r\n\r\n    //if search query has been changed\r\n    if (searchQuery !== prevState.searchQuery) {\r\n      this.debouncedSearch();\r\n    }\r\n    //LocalStorageService.setReadList(toReadList);\r\n    //LocalStorageService.setFinishedList(finishedBooksList);\r\n  }\r\n\r\n  //debounce\r\n  debounce(callback, wait) {\r\n    let timeout_ID = null;\r\n    return (...args) => {\r\n      //console.log(\"DEBOUNCE...\");\r\n      window.clearTimeout(timeout_ID);\r\n      timeout_ID = window.setTimeout(() => {\r\n        // timeout_ID = null;\r\n        callback.apply(null, args);\r\n      }, wait);\r\n    };\r\n  }\r\n\r\n  WAIT_TIMEOUT_ms = 2000;\r\n  debouncedSearch = this.debounce(() => this.handleSearch(), this.WAIT_TIMEOUT_ms);\r\n\r\n  //handlers\r\n  // SEARCH ON -> press \"Enter\", click \"!Go\", change search query in <input>\r\n  handleSearch = async () => {\r\n    let { searchQuery, currentPage, prevLists } = this.state;\r\n    console.log(\"Search:\", searchQuery, currentPage);\r\n    // if search on new query => reset downloaded lists\r\n    if (searchQuery !== this.lastQuery) {\r\n      currentPage = 1;\r\n      prevLists = [];\r\n    }\r\n    let newList = [];\r\n    // loading -> true\r\n    this.setState({ isLoading: true });\r\n    // console.log(\"isLoading: true \");\r\n    const booksData = await OpenLibraryService.getBooks(searchQuery, currentPage);\r\n    const { docs, numFound, start } = booksData;\r\n    // loading -> false\r\n    this.setState({ isLoading: false });\r\n    //console.log(\"isLoading: false \");\r\n    newList = [...docs];\r\n    //addin id for each book\r\n    newList.forEach((item) => (item._id = item.key.split(\"/\").pop()));\r\n    const size = docs.length;\r\n    const newListInfo = { booksFound: numFound, start: start, pageSize: size };\r\n    this.lastQuery = searchQuery; // need for handling debounced search\r\n    // update current list and downloaded lists\r\n    this.setState({\r\n      booksList: newList,\r\n      currentPage,\r\n      listInfo: newListInfo,\r\n      prevLists: [...prevLists, { page: currentPage, list: newList, listInfo: newListInfo }],\r\n    });\r\n    console.log(\"State.booksList:\", this.state.booksList);\r\n  };\r\n\r\n  handleInputChange = (value) => {\r\n    const newQuery = value;\r\n    this.setState({ searchQuery: newQuery });\r\n  };\r\n\r\n  handleEnter = (e) => {\r\n    const isEnterPressed = () => e.key === \"Enter\";\r\n    if (isEnterPressed()) {\r\n      this.handleSearch();\r\n    }\r\n    return;\r\n  };\r\n\r\n  handleNextClick = () => {\r\n    if (this.isAnyMoreBooks()) {\r\n      const nextPageNum = this.state.currentPage + 1;\r\n      this.setState({ currentPage: nextPageNum });\r\n    }\r\n  };\r\n\r\n  handlePrevClick = () => {\r\n    const { currentPage } = this.state;\r\n    if (currentPage > 1) {\r\n      const prevPage = currentPage - 1;\r\n      this.setState({ currentPage: prevPage });\r\n    }\r\n  };\r\n\r\n  handleScroll = (e) => {\r\n    if (this.isAnyMoreBooks()) {\r\n      const { scrollHeight, scrollTop, clientHeight } = e.target;\r\n      // console.log(\"Scrolling...\");\r\n      if (scrollTop + clientHeight >= scrollHeight - 5) {\r\n        //console.log(\"Scrolling...Bottom \", e.target.scrollTop);\r\n        const nextPageNum = this.state.currentPage + 1;\r\n        e.target.scrollTop = 5;\r\n        this.setState({ currentPage: nextPageNum });\r\n      }\r\n    }\r\n  };\r\n\r\n  handleBookCardClick = (book) => {\r\n    const { booksList } = this.state;\r\n    const previouslySelectedBook = booksList.find((item) => item.isSelected === true);\r\n    // in case we select the same Book Card\r\n    if (previouslySelectedBook && previouslySelectedBook._id === book._id) {\r\n      return;\r\n    }\r\n    // else -> reselect previouslySelectedBook\r\n    if (previouslySelectedBook) {\r\n      const prevSelectedBookIndex = booksList.indexOf(previouslySelectedBook);\r\n      booksList[prevSelectedBookIndex].isSelected = false;\r\n    }\r\n\r\n    const selectedBookIndex = booksList.indexOf(book);\r\n    booksList[selectedBookIndex].isSelected = true;\r\n    this.setState({ booksList, selectedBook: book });\r\n  };\r\n\r\n  handleAddBookClick = (book) => {\r\n    const { toReadList } = this.state;\r\n    //check if book has been already added\r\n    const isListed = toReadList.some((item) => item._id === book._id);\r\n    if (isListed) {\r\n      return;\r\n    }\r\n    LocalStorageService.addBookToReadList(book);\r\n    this.setState({ toReadList: [...toReadList, book] });\r\n  };\r\n\r\n  handleMarkAsRead = (book) => {\r\n    const { finishedBooksList } = this.state;\r\n    const isListed = finishedBooksList.some((item) => item._id === book._id);\r\n    if (isListed) {\r\n      // and do some UI Animation..\r\n      return;\r\n    }\r\n    LocalStorageService.addBookToFinishedList(book);\r\n    this.setState({ finishedBooksList: [...finishedBooksList, book] });\r\n  };\r\n\r\n  handleRemove = (book) => {\r\n    const { toReadList } = this.state;\r\n    const newToReadList = toReadList.filter((item) => item._id !== book._id);\r\n    LocalStorageService.deleteBook(book);\r\n    this.setState({ toReadList: newToReadList });\r\n  };\r\n\r\n  //check if any books left\r\n  isAnyMoreBooks = () => {\r\n    const { currentPage } = this.state;\r\n    const { pageSize, booksFound } = this.state.listInfo;\r\n    if (pageSize === BOOKS_on_PAGE && booksFound > currentPage * BOOKS_on_PAGE) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { booksList, isLoading, listInfo, selectedBook, toReadList, finishedBooksList } = this.state;\r\n    const {\r\n      handleInputChange,\r\n      handleEnter,\r\n      handleSearch,\r\n      handleNextClick,\r\n      handlePrevClick,\r\n      handleScroll,\r\n      handleBookCardClick,\r\n      handleAddBookClick,\r\n      handleMarkAsRead,\r\n      handleRemove,\r\n    } = this;\r\n\r\n    return (\r\n      <main className=\"booklist-app\">\r\n        <BookList\r\n          booksList={booksList}\r\n          isLoading={isLoading}\r\n          listInfo={listInfo}\r\n          onChange={handleInputChange}\r\n          onEnter={handleEnter}\r\n          onSearch={handleSearch}\r\n          onNextClick={handleNextClick}\r\n          onPrevClick={handlePrevClick}\r\n          onScroll={handleScroll}\r\n          onBookCardClick={handleBookCardClick}\r\n        />\r\n        <Details bookDetails={selectedBook} toReadList={toReadList} onAddBookClick={handleAddBookClick} />\r\n        <ReadingList\r\n          toReadList={toReadList}\r\n          finishedBooksList={finishedBooksList}\r\n          onMarkAsRead={handleMarkAsRead}\r\n          onRemove={handleRemove}\r\n        />\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ReadBookApp;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.scss\";\nimport App from \"./App\";\nimport ReadBookApp from \"./components/ReadBookApp\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App>\n      <ReadBookApp />\n    </App>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}